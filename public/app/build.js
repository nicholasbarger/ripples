!function(){"use strict";angular.module("app.core",["ngRoute"])}();
!function(){"use strict";angular.module("app.ide",["app.core"])}();
!function(){"use strict";angular.module("app",["app.ide","app.monitor"])}();
!function(){"use strict";angular.module("app").config(function(){})}();
!function(){"use strict";angular.module("app.core").directive("rip-grid",function(){return{restrict:"E",scope:{data:"@"},templateUrl:"rip-grid.directive.tmpl.html",transclude:!0,controllerAs:"ripGridController",controller:function(){}}})}();
!function(){"use strict";angular.module("app.core").directive("ripInput",function(){return{restrict:"E",scope:{label:"@",name:"@",ngModel:"=",placeholder:"@",readonly:"@",type:"@"},require:"ngModel",templateUrl:"core/rip-input.directive.tmpl.html",controllerAs:"ripInputController",controller:function(){}}})}();
!function(){"use strict";angular.module("app.core").factory("rippleApi",["$http","$q",function(t,e){function n(n,r,a,i,o){var u=e.defer();return-1===r.indexOf("api/v")&&(r="/api/v1"+r),t({method:n,url:r,data:a}).then(function(t){u.resolve(t.data)},function(t){u.reject(t)}),u.promise}return{call:n}}])}();
!function(){"use strict";angular.module("app-gallery",[])}();
!function(){"use strict";function l(l){l.when("/gallery",{templateUrl:"index.html",controller:"IndexController"}).when("/gallery/ripples/:id",{templateUrl:"gallery-detail.html",controller:"GalleryDetailController"})}angular.module("app-gallery").config(l),l.$inject=["$routeProvider"]}();
!function(){"use strict";function e(e){e.when("/ide",{templateUrl:"ide/index.html",controller:"IdeIndexController",controllerAs:"vm"}).when("/ide/create",{templateUrl:"ide/create.html",controller:"RippleCreateController",controllerAs:"vm",resolve:{ripple:["rippleCreateService",function(e){return e.newRipple()}]}}).when("/ide/detail/:id",{templateUrl:"ide/detail.html",controller:"RippleDetailController",controllerAs:"vm",resolve:{ripple:["rippleEditService",function(e){return e.ripple}]}}).when("/ide/disable/:id",{templateUrl:"ide/disable.html",controller:"RippleDisableController",controllerAs:"vm",resolve:{ripple:["rippleEditService",function(e){return e.ripple}]}}).when("/ide/edit/:id",{templateUrl:"ide/edit.html",controller:"RippleEditController",controllerAs:"vm",resolve:{ripple:["rippleEditService",function(e){return e.ripple}]}})}angular.module("app.ide").config(e),e.$inject=["$routeProvider"]}();
!function(){"use strict";angular.module("app.ide").controller("RippleCreateController",["rippleCreateService","ripple",function(e,r){var l=this;l.cancel=e.cancel,l.ripple=r,l.submit=e.save}])}();
!function(){"use strict";angular.module("app.ide").factory("rippleCreateService",["$window","rippleApi",function(e,n){function i(){e.history.back()}function r(){return n.call("get","/ripples/new")}function t(e){return n.call("post","/ripples/"+e.id,e)}return{cancel:i,newRipple:r,save:t}}])}();
!function(){"use strict";angular.module("app.ide").controller("RippleDetailController",["ripple",function(l){}])}();

!function(){"use strict";angular.module("app.ide").controller("RippleEditController",["rippleEditService","ripple",function(e,i){var r=this;r.incrementVersion=e.incrementVersion,r.save=e.save}])}();
!function(){"use strict";angular.module("app.ide").factory("rippleEditService",["rippleApi",function(e){function n(n){return e.call("delete","/ripples/"+n)}function r(e){return e++}function i(n){return e.call("get","/ripples/"+n)}function t(n){return e.call("put","/ripples/"+n._id,n)}return{disable:n,incrementVersion:r,load:i,save:t}}])}();
!function(){"use strict";angular.module("app.ide").controller("IdeIndexController",["ideIndexService",function(e){function o(){console.log("loading data"),e.load(l.filter).then(function(e){console.log("data loaded",e),l.ripples=e})}console.log("entered index controller for ide");var l=this;l.filter=e.filter,l.ripples=[],o()}])}();
!function(){"use strict";angular.module("app.ide").factory("ideIndexService",["rippleApi",function(e){function i(i){return e.call("get","/ripples",i)}return console.log("started index service for ide"),{filter:{},load:i}}])}();
!function(){"use strict";angular.module("app.ide").directive("ripFilter",function(){return{restrict:"E",scope:{data:"=",fetch:"@"},templateUrl:"ide/rip-filter.directive.tmpl.html",controllerAs:"ripFilterController",controller:function(){var t=this;t.criteria={},t.filter=function(){fetch(function(r){t.data=r.data})}}}})}();
!function(){"use strict";angular.module("app.monitor",["app.core"])}();
!function(){"use strict";angular.module("app.monitor").config(["$routeProvider",function(n){n.when("/monitor",{templateUrl:"monitor/index.html",controller:"MonitorIndexController",controllerAs:"vm"}).when("/monitor/instances/:id",{templateUrl:"monitor/instance-detail.html",controller:"InstanceDetailController",controllerAs:"vm",resolve:{instance:["$route","instanceDetailService",function(n,t){return t.load(n.current.params.id)}]}})}])}();
!function(){"use strict";angular.module("app.monitor").controller("MonitorIndexController",["monitorIndexService",function(n){function t(){n.load(o.filter).then(function(n){o.instances=n})}var o=this;o.filter=n.filter,o.instances=[],t()}])}();
!function(){"use strict";angular.module("app.monitor").factory("monitorIndexService",["rippleApi",function(n){function t(t){return n.call("get","/instances",t)}return{filter:{},load:t}}])}();
!function(){"use strict";angular.module("app.monitor").controller("InstanceDetailController",["instance",function(n){var t=this;t.instance=n}])}();
!function(){"use strict";angular.module("app.monitor").factory("instanceDetailService",["rippleApi",function(n){function t(t){return n.call("get","/instances/"+t)}return{load:t}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC1jb3JlLm1vZHVsZS5qcyIsImFwcC1pZGUubW9kdWxlLmpzIiwiYXBwLm1vZHVsZS5qcyIsImFwcC5jb25maWcuanMiLCJjb3JlL3JpcC1ncmlkLmRpcmVjdGl2ZS5qcyIsImNvcmUvcmlwLWlucHV0LmRpcmVjdGl2ZS5qcyIsImNvcmUvcmlwcGxlLWFwaS5zZXJ2aWNlLmpzIiwiZ2FsbGVyeS9hcHAtZ2FsbGVyeS5tb2R1bGUuanMiLCJnYWxsZXJ5L2FwcC1nYWxsZXJ5LnJvdXRlcy5qcyIsImlkZS9hcHAtaWRlLnJvdXRlcy5qcyIsImlkZS9jcmVhdGUuY29udHJvbGxlci5qcyIsImlkZS9jcmVhdGUuc2VydmljZS5qcyIsImlkZS9kZXRhaWwuY29udHJvbGxlci5qcyIsImlkZS9kaXNhYmxlLmNvbnRyb2xsZXIuanMiLCJpZGUvZWRpdC5jb250cm9sbGVyLmpzIiwiaWRlL2VkaXQuc2VydmljZS5qcyIsImlkZS9pbmRleC5jb250cm9sbGVyLmpzIiwiaWRlL2luZGV4LnNlcnZpY2UuanMiLCJpZGUvcmlwLWZpbHRlci5kaXJlY3RpdmUuanMiLCJtb25pdG9yL2FwcC1tb25pdG9yLm1vZHVsZS5qcyIsIm1vbml0b3IvYXBwLW1vbml0b3Iucm91dGVzLmpzIiwibW9uaXRvci9pbmRleC5jb250cm9sbGVyLmpzIiwibW9uaXRvci9pbmRleC5zZXJ2aWNlLmpzIiwibW9uaXRvci9pbnN0YW5jZS1kZXRhaWwuY29udHJvbGxlci5qcyIsIm1vbml0b3IvaW5zdGFuY2UtZGV0YWlsLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJkYXRhIiwidGVtcGxhdGVVcmwiLCJ0cmFuc2NsdWRlIiwiY29udHJvbGxlckFzIiwiY29udHJvbGxlciIsImxhYmVsIiwibmFtZSIsIm5nTW9kZWwiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwidHlwZSIsInJlcXVpcmUiLCJmYWN0b3J5IiwiJGh0dHAiLCIkcSIsImNhbGwiLCJtZXRob2QiLCJ1cmwiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiZGVmZXJyZWQiLCJkZWZlciIsImluZGV4T2YiLCJ0aGVuIiwicmVzcG9uc2UiLCJyZXNvbHZlIiwiZXJyb3IiLCJyZWplY3QiLCJwcm9taXNlIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiJGluamVjdCIsInJpcHBsZSIsInJpcHBsZUNyZWF0ZVNlcnZpY2UiLCJuZXdSaXBwbGUiLCJyaXBwbGVFZGl0U2VydmljZSIsInZtIiwidGhpcyIsImNhbmNlbCIsInN1Ym1pdCIsInNhdmUiLCIkd2luZG93IiwicmlwcGxlQXBpIiwiaGlzdG9yeSIsImJhY2siLCJpZCIsImluY3JlbWVudFZlcnNpb24iLCJkaXNhYmxlIiwiX2lkIiwidmVyc2lvbiIsImxvYWQiLCJpZGVJbmRleFNlcnZpY2UiLCJhY3RpdmF0ZSIsImNvbnNvbGUiLCJsb2ciLCJmaWx0ZXIiLCJyaXBwbGVzIiwiZmV0Y2giLCJjcml0ZXJpYSIsImluc3RhbmNlIiwiJHJvdXRlIiwiaW5zdGFuY2VEZXRhaWxTZXJ2aWNlIiwiY3VycmVudCIsInBhcmFtcyIsIm1vbml0b3JJbmRleFNlcnZpY2UiLCJpbnN0YW5jZXMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFFQUEsU0FDRUMsT0FBTyxZQUFhO0NDSnZCLFdBQ0MsWUFFQUQsU0FDRUMsT0FBTyxXQUFZO0NDSnRCLFdBQ0MsWUFFQUQsU0FDSUMsT0FBTyxPQUFRLFVBQVc7Q0NKL0IsV0FDQyxZQUVBRCxTQUNFQyxPQUFPLE9BQ05DLE9BQU87Q0NMWCxXQUNDLFlBRUFGLFNBQ0VDLE9BQU8sWUFDTkUsVUFBVSxXQUFZLFdBQ3RCLE9BQ0NDLFNBQVUsSUFDVkMsT0FHQ0MsS0FBTSxLQUdQQyxZQUFhLCtCQUNiQyxZQUFZLEVBQ1pDLGFBQWMsb0JBQ2RDLFdBQVk7Q0NqQmpCLFdBQ0UsWUFFQVYsU0FDR0MsT0FBTyxZQUNMRSxVQUFVLFdBQVksV0FDckIsT0FDRUMsU0FB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ZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5jb3JlJywgWyduZ1JvdXRlJ10pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAuaWRlJywgWydhcHAuY29yZSddKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG4gIFx0XHQubW9kdWxlKCdhcHAnLCBbJ2FwcC5pZGUnLCAnYXBwLm1vbml0b3InXSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcCcpXG5cdFx0XHQuY29uZmlnKGZ1bmN0aW9uKCkge1xuXHRcdFx0fSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5jb3JlJylcblx0XHRcdC5kaXJlY3RpdmUoJ3JpcC1ncmlkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdFx0XHRzY29wZToge1xuXG5cdFx0XHRcdFx0XHQvLyB0aGUgZGF0YXNldCB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIGdyaWRcblx0XHRcdFx0XHRcdGRhdGE6ICdAJ1xuXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3JpcC1ncmlkLmRpcmVjdGl2ZS50bXBsLmh0bWwnLFxuXHRcdFx0XHRcdHRyYW5zY2x1ZGU6IHRydWUsXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncmlwR3JpZENvbnRyb2xsZXInLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Ly8gdG9kb1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmNvcmUnKVxuICAgICAgLmRpcmVjdGl2ZSgncmlwSW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHNjb3BlOiB7XG5cbiAgICAgICAgICAgIC8vIHRoZSBkaXNwbGF5IGxhYmVsIG9mIHRoZSBpbnB1dCBjb250cm9sXG4gICAgICAgICAgICBsYWJlbDogJ0AnLFxuXG4gICAgICAgICAgICAvLyB0aGUgbmFtZSBvZiB0aGUgaW5wdXQgY29udHJvbCAodW5pcXVlIGlkZW50aWZpZXIpXG4gICAgICAgICAgICBuYW1lOiAnQCcsXG5cbiAgICAgICAgICAgIC8vIHRvZG86IHRoZSBtb2RlbCB0byBiaW5kIHRvIChzcGVjaWFsIGF0dHJpYnV0ZSBpbiBhbmd1bGFyKVxuICAgICAgICAgICAgbmdNb2RlbDogJz0nLFxuXG4gICAgICAgICAgICAvLyBhIGRlZmF1bHQgcGxhY2Vob2xkZXIgdGV4dCB0byBzaG93XG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0AnLFxuXG4gICAgICAgICAgICAvLyBzcGVjaWZpZXMgd2hldGhlciB0aGUgY29udHJvbCBpcyByZWFkb25seSBvciBub3RcbiAgICAgICAgICAgIHJlYWRvbmx5OiAnQCcsXG5cbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIG9mIGlucHV0IGNvbnRyb2wgKHRleHQsIGRhdGUsIHRleHRhcmVhLCBldGMuKVxuICAgICAgICAgICAgdHlwZTogJ0AnXG5cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvcmlwLWlucHV0LmRpcmVjdGl2ZS50bXBsLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JpcElucHV0Q29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB0b2RvXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5jb3JlJylcblx0XHRcdC5mYWN0b3J5KCdyaXBwbGVBcGknLCBmdW5jdGlvbigkaHR0cCwgJHEpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRjYWxsOiBjYWxsXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0ZnVuY3Rpb24gY2FsbChtZXRob2QsIHVybCwgZGF0YSwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG5cdFx0XHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuXHRcdFx0XHRcdGlmKHVybC5pbmRleE9mKCdhcGkvdicpID09PSAtMSkge1xuXHRcdFx0ICAgICAgICAgICAgdXJsID0gJy9hcGkvdjEnICsgdXJsO1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICAgIFxuXHRcdFx0ICAgICAgICAvLyBtYWtlIGFqYXggY2FsbCAocmV0dXJucyBhIHByb21pc2UpXG4gICAgICAgIFx0XHRcdCRodHRwKHttZXRob2Q6IG1ldGhvZCwgdXJsOiB1cmwsIGRhdGE6IGRhdGF9KVxuICAgICAgICBcdFx0XHRcdC50aGVuKFxuXHQgICAgICAgIFx0XHRcdFx0ZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgICAgICBcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0ICAgICAgICBcdFx0XHRcdH0sXG5cdCAgICAgICAgXHRcdFx0XHRmdW5jdGlvbihlcnJvcikge1xuXHQgICAgICAgIFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHQgICAgICAgIFx0XHRcdFx0fSk7XHRcblxuICAgICAgICBcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAtZ2FsbGVyeScsIFtdKTtcdFxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAtZ2FsbGVyeScpXG5cdFx0XHQuY29uZmlnKGNvbmZpZyk7XHRcblxuXHRmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcblx0XHQkcm91dGVQcm92aWRlclxuXHRcdFx0LndoZW4oJy9nYWxsZXJ5Jywge1xuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiAnSW5kZXhDb250cm9sbGVyJ1xuXHRcdFx0fSlcblx0XHRcdC53aGVuKCcvZ2FsbGVyeS9yaXBwbGVzLzppZCcsIHtcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdnYWxsZXJ5LWRldGFpbC5odG1sJyxcblx0XHRcdFx0Y29udHJvbGxlcjogJ0dhbGxlcnlEZXRhaWxDb250cm9sbGVyJ1xuXHRcdFx0fSk7XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLmlkZScpXG5cdFx0XHQuY29uZmlnKGNvbmZpZyk7XG5cblx0ZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdFx0JHJvdXRlUHJvdmlkZXJcblx0XHRcdC53aGVuKCcvaWRlJywge1xuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2lkZS9pbmRleC5odG1sJyxcblx0XHRcdFx0Y29udHJvbGxlcjogJ0lkZUluZGV4Q29udHJvbGxlcicsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xuXHRcdFx0fSlcblx0XHRcdC53aGVuKCcvaWRlL2NyZWF0ZScsIHtcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdpZGUvY3JlYXRlLmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiAnUmlwcGxlQ3JlYXRlQ29udHJvbGxlcicsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdHJpcHBsZTogZnVuY3Rpb24ocmlwcGxlQ3JlYXRlU2VydmljZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUNyZWF0ZVNlcnZpY2UubmV3UmlwcGxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LndoZW4oJy9pZGUvZGV0YWlsLzppZCcsIHtcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdpZGUvZGV0YWlsLmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiAnUmlwcGxlRGV0YWlsQ29udHJvbGxlcicsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdHJpcHBsZTogZnVuY3Rpb24ocmlwcGxlRWRpdFNlcnZpY2UpIHtcblx0XHRcdFx0XHRcdHJldHVybiByaXBwbGVFZGl0U2VydmljZS5yaXBwbGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LndoZW4oJy9pZGUvZGlzYWJsZS86aWQnLCB7XG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnaWRlL2Rpc2FibGUuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdSaXBwbGVEaXNhYmxlQ29udHJvbGxlcicsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdHJpcHBsZTogZnVuY3Rpb24ocmlwcGxlRWRpdFNlcnZpY2UpIHtcblx0XHRcdFx0XHRcdHJldHVybiByaXBwbGVFZGl0U2VydmljZS5yaXBwbGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LndoZW4oJy9pZGUvZWRpdC86aWQnLCB7XG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnaWRlL2VkaXQuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdSaXBwbGVFZGl0Q29udHJvbGxlcicsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdHJpcHBsZTogZnVuY3Rpb24ocmlwcGxlRWRpdFNlcnZpY2UpIHtcblx0XHRcdFx0XHRcdHJldHVybiByaXBwbGVFZGl0U2VydmljZS5yaXBwbGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5pZGUnKVxuXHRcdFx0LmNvbnRyb2xsZXIoJ1JpcHBsZUNyZWF0ZUNvbnRyb2xsZXInLCBmdW5jdGlvbihyaXBwbGVDcmVhdGVTZXJ2aWNlLCByaXBwbGUpIHtcblx0XHRcdFx0dmFyIHZtID0gdGhpcztcblx0XHRcdFx0dm0uY2FuY2VsID0gcmlwcGxlQ3JlYXRlU2VydmljZS5jYW5jZWw7XG5cdFx0XHRcdHZtLnJpcHBsZSA9IHJpcHBsZTtcblx0XHRcdFx0dm0uc3VibWl0ID0gcmlwcGxlQ3JlYXRlU2VydmljZS5zYXZlO1xuXHRcdFx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5pZGUnKVxuXHRcdFx0LmZhY3RvcnkoJ3JpcHBsZUNyZWF0ZVNlcnZpY2UnLCBmdW5jdGlvbigkd2luZG93LCByaXBwbGVBcGkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRjYW5jZWw6IGNhbmNlbCxcblx0XHRcdFx0XHRuZXdSaXBwbGU6IG5ld1JpcHBsZSxcblx0XHRcdFx0XHRzYXZlOiBzYXZlXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0ZnVuY3Rpb24gY2FuY2VsKCkge1xuXHRcdFx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBuZXdSaXBwbGUoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdnZXQnLCAnL3JpcHBsZXMvbmV3Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBzYXZlKHJpcHBsZSkge1xuXHRcdFx0XHRcdHJldHVybiByaXBwbGVBcGkuY2FsbCgncG9zdCcsICcvcmlwcGxlcy8nICsgcmlwcGxlLmlkLCByaXBwbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLmlkZScpXG5cdFx0XHQuY29udHJvbGxlcignUmlwcGxlRGV0YWlsQ29udHJvbGxlcicsIGZ1bmN0aW9uKHJpcHBsZSkge1xuXHRcdFx0XHQvLyB0b2RvOiBub3Qgc3VyZSB3aGF0IHRvIGRvIG9uY2UgdGhlIHJpcHBsZSBpcyByZXNvbHZlZFxuXHRcdFx0fSk7XG59KSgpOyIsIi8vIHRvZG8iLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAuaWRlJylcblx0XHRcdC5jb250cm9sbGVyKCdSaXBwbGVFZGl0Q29udHJvbGxlcicsIGZ1bmN0aW9uKHJpcHBsZUVkaXRTZXJ2aWNlLCByaXBwbGUpIHtcblx0XHRcdFx0dmFyIHZtID0gdGhpcztcblx0XHRcdFx0dm0uaW5jcmVtZW50VmVyc2lvbiA9IHJpcHBsZUVkaXRTZXJ2aWNlLmluY3JlbWVudFZlcnNpb247XG5cdFx0XHRcdHZtLnNhdmUgPSByaXBwbGVFZGl0U2VydmljZS5zYXZlO1xuXHRcdFx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5pZGUnKVxuXHRcdFx0LmZhY3RvcnkoJ3JpcHBsZUVkaXRTZXJ2aWNlJywgZnVuY3Rpb24ocmlwcGxlQXBpKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZGlzYWJsZTogZGlzYWJsZSxcblx0XHRcdFx0XHRpbmNyZW1lbnRWZXJzaW9uOiBpbmNyZW1lbnRWZXJzaW9uLFxuXHRcdFx0XHRcdGxvYWQ6IGxvYWQsXG5cdFx0XHRcdFx0c2F2ZTogc2F2ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGRpc2FibGUoX2lkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdkZWxldGUnLCAnL3JpcHBsZXMvJyArIF9pZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBpbmNyZW1lbnRWZXJzaW9uKHZlcnNpb24pIHtcblx0XHRcdFx0XHRyZXR1cm4gdmVyc2lvbisrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnVuY3Rpb24gbG9hZChfaWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmlwcGxlQXBpLmNhbGwoJ2dldCcsICcvcmlwcGxlcy8nICsgX2lkKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIHNhdmUocmlwcGxlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdwdXQnLCAnL3JpcHBsZXMvJyArIHJpcHBsZS5faWQsIHJpcHBsZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLmlkZScpXG5cdFx0XHQuY29udHJvbGxlcignSWRlSW5kZXhDb250cm9sbGVyJywgZnVuY3Rpb24oaWRlSW5kZXhTZXJ2aWNlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlbnRlcmVkIGluZGV4IGNvbnRyb2xsZXIgZm9yIGlkZScpO1xuXHRcdFx0XHR2YXIgdm0gPSB0aGlzO1xuXHRcdFx0XHR2bS5maWx0ZXIgPSBpZGVJbmRleFNlcnZpY2UuZmlsdGVyO1xuXHRcdFx0XHR2bS5yaXBwbGVzID0gW107XG5cblx0XHRcdFx0YWN0aXZhdGUoKTtcblxuXHRcdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnbG9hZGluZyBkYXRhJyk7XG5cdFx0XHRcdFx0Ly8gbG9hZCBkYXRhXG5cdFx0XHRcdFx0aWRlSW5kZXhTZXJ2aWNlLmxvYWQodm0uZmlsdGVyKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdkYXRhIGxvYWRlZCcsIGRhdGEpO1xuXHRcdFx0XHRcdFx0dm0ucmlwcGxlcyA9IGRhdGE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLmlkZScpXG5cdFx0XHQuZmFjdG9yeSgnaWRlSW5kZXhTZXJ2aWNlJywgZnVuY3Rpb24ocmlwcGxlQXBpKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdzdGFydGVkIGluZGV4IHNlcnZpY2UgZm9yIGlkZScpO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGZpbHRlcjoge30sXG5cdFx0XHRcdFx0bG9hZDogbG9hZFxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWQoZmlsdGVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdnZXQnLCAnL3JpcHBsZXMnLCBmaWx0ZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5pZGUnKVxuXHRcdFx0LmRpcmVjdGl2ZSgncmlwRmlsdGVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdFx0XHRzY29wZToge1xuXHRcdFx0XHRcdFx0ZGF0YTogJz0nLFxuXHRcdFx0XHRcdFx0ZmV0Y2g6ICdAJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdpZGUvcmlwLWZpbHRlci5kaXJlY3RpdmUudG1wbC5odG1sJyxcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdyaXBGaWx0ZXJDb250cm9sbGVyJyxcblx0XHRcdFx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciB2bSA9IHRoaXM7XG5cdFx0XHRcdFx0XHR2bS5jcml0ZXJpYSA9IHt9O1xuXHRcdFx0XHRcdFx0dm0uZmlsdGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGNhbGwgdGhlIGZldGNoIGNhbGxiYWNrIGFuZCB0aGVuIGFzc2lnbiBuZXcgZGF0YVxuXHRcdFx0XHRcdFx0XHQvLyBiaWRpcmVjdGlvbmFsbHkgdG8gdXBkYXRlIHRoZSBncmlkXG5cdFx0XHRcdFx0XHRcdGZldGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dm0uZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2FwcC5tb25pdG9yJywgWydhcHAuY29yZSddKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLm1vbml0b3InKVxuXHRcdFx0LmNvbmZpZyhcblx0XHRcdFx0ZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcblx0XHRcdFx0JHJvdXRlUHJvdmlkZXJcblx0XHRcdFx0XHQud2hlbignL21vbml0b3InLCB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vbml0b3IvaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTW9uaXRvckluZGV4Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC53aGVuKCcvbW9uaXRvci9pbnN0YW5jZXMvOmlkJywge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb25pdG9yL2luc3RhbmNlLWRldGFpbC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdJbnN0YW5jZURldGFpbENvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZTogZnVuY3Rpb24oJHJvdXRlLCBpbnN0YW5jZURldGFpbFNlcnZpY2UpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaW5zdGFuY2VEZXRhaWxTZXJ2aWNlLmxvYWQoJHJvdXRlLmN1cnJlbnQucGFyYW1zLmlkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XHRcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLm1vbml0b3InKVxuXHRcdFx0LmNvbnRyb2xsZXIoJ01vbml0b3JJbmRleENvbnRyb2xsZXInLCBmdW5jdGlvbihtb25pdG9ySW5kZXhTZXJ2aWNlKSB7XG5cdFx0XHRcdHZhciB2bSA9IHRoaXM7XG5cdFx0XHRcdHZtLmZpbHRlciA9IG1vbml0b3JJbmRleFNlcnZpY2UuZmlsdGVyO1xuXHRcdFx0XHR2bS5pbnN0YW5jZXMgPSBbXTtcblxuXHRcdFx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXHRcdFx0XHRcdC8vIGxvYWQgZGF0YVxuXHRcdFx0XHRcdG1vbml0b3JJbmRleFNlcnZpY2UubG9hZCh2bS5maWx0ZXIpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdFx0dm0uaW5zdGFuY2VzID0gZGF0YTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAubW9uaXRvcicpXG5cdFx0XHQuZmFjdG9yeSgnbW9uaXRvckluZGV4U2VydmljZScsIGZ1bmN0aW9uKHJpcHBsZUFwaSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGZpbHRlcjoge30sXG5cdFx0XHRcdFx0bG9hZDogbG9hZFxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWQoZmlsdGVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdnZXQnLCAnL2luc3RhbmNlcycsIGZpbHRlcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhcHAubW9uaXRvcicpXG5cdFx0XHQuY29udHJvbGxlcignSW5zdGFuY2VEZXRhaWxDb250cm9sbGVyJywgZnVuY3Rpb24oaW5zdGFuY2UpIHtcblx0XHRcdFx0dmFyIHZtID0gdGhpcztcblx0XHRcdFx0dm0uaW5zdGFuY2UgPSBpbnN0YW5jZTtcblx0XHRcdH0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYXBwLm1vbml0b3InKVxuXHRcdFx0LmZhY3RvcnkoJ2luc3RhbmNlRGV0YWlsU2VydmljZScsIGZ1bmN0aW9uKHJpcHBsZUFwaSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGxvYWQ6IGxvYWRcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRmdW5jdGlvbiBsb2FkKGlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJpcHBsZUFwaS5jYWxsKCdnZXQnLCAnL2luc3RhbmNlcy8nICsgaWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
